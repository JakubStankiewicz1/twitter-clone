<div class="sidebar">
  <div class="sidebar_container">
    <div class="sidebar__top">
      <div class="sidebar__logo">
        <svg class="logo-icon" viewBox="0 0 24 24" aria-hidden="true">
          <g>
            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path>
          </g>
        </svg>
      </div>
      
      <ul class="sidebar__menu">
        <li>
          <a routerLink="/home" routerLinkActive="active">
            <div class="sidebar__icon">
              <img src="assets/icons/home_outline.png" alt="Home" />
            </div>
            <span class="sidebar__label">Home</span>
          </a>
        </li>
        
        <li>
          <div class="sidebar__icon">
            <img src="assets/icons/search.png" alt="Explore" />
          </div>
          <span class="sidebar__label">Explore</span>
        </li>
        
        <li>
          <div class="sidebar__icon">
            <img src="assets/icons/notification_outline.png" alt="Notifications" />
          </div>
          <span class="sidebar__label">Notifications</span>
        </li>
        
        <li>
          <a routerLink="/messages" routerLinkActive="active">
            <div class="sidebar__icon">
              <img src="assets/icons/message_outline.png" alt="Messages" />
            </div>
            <span class="sidebar__label">Messages</span>
          </a>
        </li>
        
        <li>
          <div class="sidebar__icon">
            <img src="assets/icons/grok_white.png" alt="Grok" />
          </div>
          <span class="sidebar__label">Grok</span>
        </li>
        
        <li>
          <div class="sidebar__icon">
            <img src="assets/icons/bookmark_outline.png" alt="Bookmarks" />
          </div>
          <span class="sidebar__label">Bookmarks</span>
        </li>
        
        <li>
          <div class="sidebar__icon">
            <img src="assets/icons/group.png" alt="Communities" />
          </div>
          <span class="sidebar__label">Communities</span>
        </li>
        
        <li>
          <div class="sidebar__icon">
            <img src="assets/landing/logo-white.png" alt="Premium" />
          </div>
          <span class="sidebar__label">Premium</span>
        </li>
        
        <li>
          <div class="sidebar__icon">
            <img src="assets/icons/lightning_outline.png" alt="Verified Orgs" />
          </div>
          <span class="sidebar__label">Verified Orgs</span>
        </li>
        
        <li>
          <a routerLink="/profile" routerLinkActive="active">
            <div class="sidebar__icon">
              <img src="assets/icons/user_outline.png" alt="Profile" />
            </div>
            <span class="sidebar__label">Profile</span>
          </a>
        </li>
        
        <li>
          <div class="sidebar__icon">
            <img src="assets/icons/dots.png" alt="More" />
          </div>
          <span class="sidebar__label">More</span>
        </li>
      </ul>
      
      <button class="sidebar__post" (click)="openPostModal()">Post</button>
      <div class="modal-backdrop" *ngIf="showPostModal" (click)="closePostModal()"></div>
      <div class="modal" *ngIf="showPostModal">
        <app-post-modal (close)="closePostModal()" (postAdded)="onPostAdded()"></app-post-modal>
      </div>
    </div>
    
    <div class="sidebar__bottom">
      <div class="sidebar__user" *ngIf="currentUser">
        <div class="sidebar__avatar">{{ getInitials(currentUser.username) }}</div>
        <div class="sidebar__user-info">
          <span class="sidebar__user-name">{{ currentUser.username }}</span>
          <span class="sidebar__user-handle">{{ '@' + currentUser.username }}</span>
        </div>
        <div class="sidebar__user-more" (click)="toggleUserMenu($event)" tabindex="0">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <g>
              <circle cx="5" cy="12" r="2"></circle>
              <circle cx="12" cy="12" r="2"></circle>
              <circle cx="19" cy="12" r="2"></circle>
            </g>
          </svg>
        </div>
        <div class="sidebar__user-menu" *ngIf="showUserMenu">
          <div class="sidebar__user-menu-item" (click)="addAccount()">Add an existing account</div>
          <div class="sidebar__user-menu-item" (click)="logout()">Log out {{ '@' + currentUser.username }}</div>
        </div>
      </div>
      
      <!-- Usunięto nieużywany blok notLoggedIn -->
    </div>
  </div>
</div>
